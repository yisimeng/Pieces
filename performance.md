# Performance

## 网络

### 1. DNS 查找时间

1. 最小化应用使用的专有域名的数量。按照路由的一般工作方式，多个域名不可避免，尽可能做好以下几点
	* 身份管理（登陆、注销、配置文件）
	* 数据服务（API端点）
	* CDN
2. 在应用启动时只需要身份管理和初始画面所需要的数据。对于其他子域名，尝试DNS预先下载
	* 如果子域名和主机在控制范围内，可配置预设URL，不返回任何数据，只返回HTTP204的状态码，然后提前对该URL发起连接
	* 使用gethostbyname执行一个明确的DNS查找。但是不同协议可能解析至不同的IP，例如，解析HTTP和HTTPS的IP可能不同。因此在连接之前解析DNS经常是无用的，对主机进行伪连接更有效。

### 2. SSL 握手时间

* 尽可能减少发起的连接数
* 复用HTTP/S 连接，设置HTTPS请求头 Connection:keep-alive，复用连接
* 使用域分片。不同主机名可以解析到相同的IP，使用相同的证书（在通配符域）。CocoaSPDY。

